"use strict";function filterInit(a,e){$("div.filter-"+a).each((function(a){var t=$(this),n=parseFilterData(t.children("div.filter-data")),s=new CustomEvent("data-filter-"+n.data_source,{});e(t,n,s)}))}function filterEventHandler(a,e,t,n,s){a.removeClass("d-none"),$.post(BASE_PATH+"/request/AjaxDataSource/set_data_filter",{action:e.hasClass("active")?"rm":"add",name:n.name,value:n.value[t],value_idx:t,data_source:n.data_source},(function(t){t.success?(console.log("dispatch event: "+s.type),window.dispatchEvent(s),a.addClass("d-none"),e.toggleClass("active")):console.log(t)}),"json")}function parseFilterData(a){var e=a.text();try{return JSON.parse(e)}catch(a){return console.log("cannot parse raw data of graph"),console.log(a),null}}
"use strict";function initFilterToggle(){filterInit("toggle",filterToggleActionHandler)}function filterToggleActionHandler(t,i,e){t.find("button.filter-toggle-switch").each((function(t){var n=$(this),l=n.children("i.filter-toggle-pending");n.click((function(){filterEventHandler(l,n,t,i,e)}))}))}$(document).ready((function(){initFilterToggle()}));
"use strict";function initFilterToggleGroup(){filterInit("toggle-group",filterToggleActionHandler)}$(document).ready((function(){initFilterToggleGroup()}));